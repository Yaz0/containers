set runtimepath+=/usr/local/share/nvim
set nocompatible
filetype plugin on
filetype indent on
syntax on
set number
set relativenumber
set mouse=a
set nobackup
set nowb
set noswapfile
set nofoldenable
set showtabline=2
set cursorline
autocmd WinEnter * setlocal cursorline
autocmd WinLeave * setlocal nocursorline
set clipboard=unnamedplus
set ignorecase
set smartcase
set incsearch
set hlsearch
nnoremap <silent> <Space> :nohlsearch<Bar>:echo<CR>
set wildmenu
nnoremap d "_d
vnoremap d "_d
nnoremap D "_D
vnoremap D "_D
xnoremap <expr> p 'pgv"'.v:register.'y'
map <C-Left> <C-w>h
map <C-Down> <C-w>j
map <C-Up> <C-w>k
map <C-Right> <C-w>l
map <S-Right> :tabn<CR>
map <S-Left>  :tabp<CR>
set backspace=indent,eol,start
set noexpandtab
set copyindent
set preserveindent
set softtabstop=0
set shiftwidth=4
set tabstop=4
set belloff=all
set updatetime=100
set colorcolumn=80
set laststatus=2
set hidden
set autoread
au FocusGained * :checktime
autocmd FileType * setlocal formatoptions-=c formatoptions-=r formatoptions-=o

call plug#begin('/usr/share/nvim/runtime/plugged')
Plug 'itchyny/lightline.vim'
Plug 'majutsushi/tagbar'
Plug 'tpope/vim-fugitive'
Plug 'ntpeters/vim-better-whitespace'
Plug 'airblade/vim-gitgutter'
Plug 'scrooloose/nerdcommenter'
Plug 'easymotion/vim-easymotion'
Plug 'scrooloose/syntastic'
Plug 'kshenoy/vim-signature'
Plug 'sjl/badwolf'
Plug 'farmergreg/vim-lastplace'
Plug 'machakann/vim-highlightedyank'
Plug 'tpope/vim-surround'
Plug 'junegunn/fzf.vim'
Plug 'terryma/vim-expand-region'
Plug 'wellle/visual-split.vim'
Plug 'conradirwin/vim-bracketed-paste'
Plug 't9md/vim-textmanip'
Plug 'jeffkreeftmeijer/vim-numbertoggle'
Plug 'dhruvasagar/vim-table-mode'
Plug 'lervag/vimtex'
Plug 'rhysd/git-messenger.vim'
Plug 'tpope/vim-vinegar'
Plug 'gcmt/taboo.vim'
Plug 'jsfaint/gen_tags.vim'
Plug 'lervag/wiki.vim'
Plug 'lervag/wiki-ft.vim'
Plug 'inside/vim-search-pulse'
Plug 'RRethy/vim-illuminate'
Plug 'mtth/scratch.vim'
Plug 'xolox/vim-session'
Plug 'xolox/vim-misc'
call plug#end()

nmap <F6> :TagbarToggle<CR>
colorscheme badwolf
set signcolumn=yes
nnoremap ,c :call NERDComment(0,"toggle")<CR>
vnoremap ,c :call NERDComment(0,"toggle")<CR>
let g:EasyMotion_off_screen_search = 0
let g:EasyMotion_verbose = 0
set statusline+=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*
let g:syntastic_check_on_open = 1
let g:syntastic_always_populate_loc_list = 1
let g:syntastic_auto_loc_list = 0
function! ToggleSyntastic()
    for i in range(1, winnr('$'))
        let bnum = winbufnr(i)
        if getbufvar(bnum, '&buftype') == 'quickfix'
            lclose
            return
        endif
    endfor
    SyntasticCheck
endfunction
nnoremap <F7> :call ToggleSyntastic()<CR>

nmap <Leader>f :GFiles<CR>
nmap <Leader>F :Files<CR>
nmap <Leader>b :Buffers<CR>
nmap <Leader>t :BTags<CR>
nmap <Leader>T :Tags<CR>
nmap <Leader>l :BLines<CR>
nmap <Leader>L :Lines<CR>
nmap <Leader>' :Marks<CR>
nmap <Leader>a :Ag<Space>
nmap <Leader>H :Helptags!<CR>
nmap <Leader>C :Commits<CR>
nmap <Leader>c :BCommits<CR>
nmap <Leader>M :Maps<CR>
xmap <C-s> <Plug>(Visual-Split-VSSplitAbove)
xmap <C-S-Down> <Plug>(textmanip-move-down)
xmap <C-S-Up> <Plug>(textmanip-move-up)
xmap <C-S-Left> <Plug>(textmanip-move-left)
xmap <C-S-Right> <Plug>(textmanip-move-right)
nmap <F8> :Goyo<CR>

let g:netrw_liststyle = 3
let g:netrw_browse_split = 3
let g:netrw_altv = 1
let g:netrw_winsize=20
nnoremap <S-Tab> :Lexplore<CR>

let g:wiki_root = '/opt/workspace'

let g:vim_search_pulse_duration = 200

hi illuminatedWord cterm=underline gui=underline

let g:tagbar_autofocus = 1

let g:gen_tags#use_cache_dir = 0
let g:gen_tags#ctags_auto_gen = 1
let g:gen_tags#gtags_auto_gen = 1
let g:gen_tags#statusline = 1
let g:gen_tags#blacklist = split(glob('/usr/share/nvim/runtime/plugged/*'))

let g:scratch_no_mappings = 1
nmap <F5> <plug>(scratch-insert-reuse)
let g:scratch_persistence_file = '.scratch.vim'

let g:session_directory = '/opt/workspace/.sessions'
let g:session_verbose_messages = 0
let g:session_autosave = 'yes'
let g:session_autosave_to = 'default'
let g:session_autoload = 'yes'
let g:session_command_aliases = 1
